@model IEnumerable<Dapper_vs_EF.ViewModels.AuthorInfo>

@{
    ViewBag.Title = "View";
}


<h2>@ViewBag.ORMName</h2>

<table class="table">
    <tr>
        <th>Author</th>
        <th>Country</th>
        <th>Book's count</th>
    </tr>

    @foreach (var item in Model)
    {
        <tr>
            <td>@item.FullAuthorName</td>
            <td>@item.Country</td>
            <td>@item.BookCount</td>
        </tr>
    }

</table>

<div>
    @using (Ajax.BeginForm("SearchBook" + ((string)ViewBag.ORMName), new AjaxOptions { UpdateTargetId = "results" }))
    {
        <input type="text" name="searchParam" placeholder="Enter author's fist or last name" />
        <input type="submit" value="Find books" />
    }
    <div id="results"></div>
</div>

@Scripts.Render("~/scripts/jquery-3.3.1.min.js")
@Scripts.Render("~/scripts/jquery.unobtrusive-ajax.min.js")