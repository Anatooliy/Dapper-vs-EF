

@{
    ViewBag.Title = "Dapper";
}

<h2>Dapper</h2>


<table class="table">
    <tr>
        <th>Автор</th>
        <th>Страна</th>
        <th>Кол-во книг</th>
    </tr>

    @foreach (var item in ViewBag.Authors)
    {
        <tr>
            <td>@item.Author</td>
            <td>@item.Country</td>
            <td>@item.BookCount</td>
        </tr>
    }

</table>

<div>
    @using (Ajax.BeginForm("SearchBookDapper", new AjaxOptions { UpdateTargetId = "results" }))
    {
        <input type="text" name="name" />
        <input type="submit" value="Поиск" />
    }
    <div id="results"></div>
</div>
@Scripts.Render("~/scripts/jquery-3.3.1.min.js")
@Scripts.Render("~/scripts/jquery.unobtrusive-ajax.min.js")
